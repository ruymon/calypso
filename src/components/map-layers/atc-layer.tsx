"use client";

import { Layer, Source } from "react-map-gl";
// @ts-expect-error - FIXME: @turf types are not working...
import { polygon } from "@turf/helpers";

const data = [
  [-48.36777778, -9.62138889],
  [-48.16361111, -9.65166667],
  [-48.005, -9.72388889],
  [-47.81361111, -9.90277778],
  [-47.70111111, -10.16055556],
  [-47.68777778, -10.29027778],
  [-47.30055556, -11.15444444],
  [-46.89111111, -12.02194444],
  [-45.60833333, -13.32194444],
  [-45.15666667, -13.9875],
  [-45.02083333, -14.19916667],
  [-44.57722222, -14.78472222],
  [-44.40833333, -15.08083333],
  [-44.25166667, -15.35472222],
  [-44.09527778, -15.62722222],
  [-43.71638889, -15.85166667],
  [-42.82555556, -16.37444444],
  [-42.67888889, -16.40944444],
  [-42.37194444, -16.60305556],
  [-41.9875, -16.84555556],
  [-41.715, -17.01361111],
  [-41.92333333, -17.58666667],
  [-42.10611111, -17.90333333],
  [-42.52111111, -18.61805556],
  [-42.44805556, -18.75805556],
  [-42.49944444, -19.08],
  [-42.47944444, -19.46305556],
  [-42.50138889, -19.72],
  [-42.52694444, -20.00333333],
  [-42.59444444, -20.46083333],
  [-43.35944444, -20.22027778],
  [-43.48222222, -20.36833333],
  [-43.70694444, -20.48027778],
  [-43.76944444, -20.50305556],
  [-43.84222222, -20.51583333],
  [-44.01916667, -20.51833333],
  [-44.06388889, -20.50916667],
  [-44.16666667, -20.64888889],
  [-44.43333333, -21.01222222],
  [-44.5775, -21.20694444],
  [-44.62583333, -21.27277778],
  [-44.74, -21.42666667],
  [-45.21555556, -22.06416667],
  [-45.365, -22.26305556],
  [-45.76416667, -22.78611111],
  [-45.83305556, -23.1075],
  [-45.86, -23.23305556],
  [-46.38555556, -23.40638889],
  [-46.65305556, -23.45],
  [-47.24472222, -23.24027778],
  [-47.58111111, -23.12],
  [-47.73277778, -23.06555556],
  [-47.89694444, -22.99333333],
  [-48.86111111, -22.72611111],
  [-49.91777778, -22.33027778],
  [-50.95194444, -20.87722222],
  [-51.36194444, -20.42722222],
  [-52.01138889, -19.70444444],
  [-54.12333333, -17.40583333],
  [-54.01194444, -17.37138889],
  [-53.91361111, -17.30055556],
  [-53.83138889, -17.24138889],
  [-53.3725, -16.90916667],
  [-53.10083333, -16.70916667],
  [-53.25444444, -16.09694444],
  [-53.32027778, -15.80888889],
  [-53.3975, -15.475],
  [-53.4775, -15.1575],
  [-53.62666667, -14.5625],
  [-53.57116667, -13.99383333],
  [-53.50133333, -12.96],
  [-53.051, -12.18366667],
  [-52.27283333, -11.53716667],
  [-51.901, -11.22183333],
  [-51.67277778, -11.0275],
  [-51.0865, -10.51566667],
  [-50.63111111, -10.50777778],
  [-49.90183333, -10.49416667],
  [-49.04116667, -10.222],
  [-48.9925, -10.04388889],
  [-48.87527778, -9.85305556],
  [-48.65277778, -9.68555556],
  [-48.36777778, -9.62138889],
];

export function ATCLayer() {
  return (
    <Source
      id="atc-source"
      type="geojson"
      data={polygon([data], { name: "poly1" })}
      attribution='<a href="https://www.vatsim.net">Vatsim</a>'
    >
      <Layer
        type="fill"
        id="atc-flights-layer"
        paint={{
          "fill-color": "#a3e635",
          "fill-opacity": 0.05,
        }}
      />

      <Layer
        type="line"
        id="vatsim-flights-line-layer"
        paint={{
          "line-color": "#a3e635",
          "line-width": 0.5,
        }}
      />
    </Source>
  );
}
